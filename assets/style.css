/* =========================
   Rodzaki — style.css (Publications portal)
   Full replace — clean executable
   ========================= */

/* reset */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; }

/* ====== theme tokens ====== */
:root{
  --ink: #2a2a2a;
  --muted: #6b6b6b;

  --line: rgba(0,0,0,.12);
  --stone: #e9e5dc;
  --paper: #f2efe6;

  /* Publications “museum portal” geometry */
  --corniceH: 96px;
  --stepH: 160px;

  --colW: 86px;     /* equal width for inner + outer */
  --colGap: 34px;   /* use the RIGHT-side spacing as your standard */

  /* continuous landing plinth (rounded) */
  --landingH: 22px;
  --landingR: 18px; /* rounded ends */

  /* individual pedestals (double-plinth) */
  --ped1H: 18px;     /* lower tier of pedestal */
  --ped2H: 22px;     /* upper tier of pedestal (column sits on this) */
  --pedOver: 18px;   /* how much wider pedestal is than column on each side */

  /* capitals */
  --capCurveH: 16px; /* echinus */
  --capPlateH: 10px; /* abacus */
}

/* ====== base typography ====== */
body{
  font: 16px/1.6 system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color: var(--ink);
  background: var(--paper);
}

h1{ margin: 0 0 12px; font-size: 30px; letter-spacing: .4px; }
h2{ margin-top: 32px; font-size: 18px; letter-spacing: .3px; }
p{ margin: 10px 0; color: var(--muted); }

a{ color: #0b4f6c; text-decoration: none; }
a:hover{ text-decoration: underline; }

/* layout */
main{
  max-width: 980px;
  margin: 0 auto;
  padding: 32px 20px;
}

header{ text-align: center; }

/* directory links as calm entries */
.directory-links p{
  margin: 8px 0;
  font-size: 17px;
}

/* =========================
   PUBLICATIONS — MUSEUM PORTAL (double columns)
   Applies ONLY when <body class="publications-directory">
   ========================= */

body.publications-directory{
  color: var(--ink);
  background-color: var(--paper);

  /* Background architecture: cornice + steps + 4 column shafts */
  background-image:
    /* 1) Cornice face */
    linear-gradient(180deg, rgba(255,255,255,.80), rgba(0,0,0,.10)),
    /* 2) Cornice banding */
    repeating-linear-gradient(90deg, rgba(0,0,0,.05) 0 10px, rgba(255,255,255,.15) 10px 20px),

    /* 3) Steps: tread highlight */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.30)),
    /* 4) Steps: riser stripes */
    repeating-linear-gradient(0deg, rgba(0,0,0,.06) 0 2px, rgba(255,255,255,.16) 2px 14px),

    /* 5) OUTER LEFT shaft */
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(0,0,0,.10)),
    /* 6) OUTER RIGHT shaft */
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(0,0,0,.10)),
    /* 7) INNER LEFT shaft */
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(0,0,0,.10)),
    /* 8) INNER RIGHT shaft */
    linear-gradient(180deg, rgba(255,255,255,.70), rgba(0,0,0,.10)),

    /* 9) Base parchment */
    linear-gradient(180deg, rgba(255,255,255,.45), rgba(0,0,0,.04));

  /* Shaft height stops above the steps AND above the landing + pedestals */
  background-size:
    100% var(--corniceH),
    100% var(--corniceH),

    100% var(--stepH),
    100% var(--stepH),

    var(--colW) calc(100dvh - var(--corniceH) - var(--stepH) - var(--landingH) - var(--ped1H) - var(--ped2H)),
    var(--colW) calc(100dvh - var(--corniceH) - var(--stepH) - var(--landingH) - var(--ped1H) - var(--ped2H)),
    var(--colW) calc(100dvh - var(--corniceH) - var(--stepH) - var(--landingH) - var(--ped1H) - var(--ped2H)),
    var(--colW) calc(100dvh - var(--corniceH) - var(--stepH) - var(--landingH) - var(--ped1H) - var(--ped2H)),

    100% 100%;

  /* Explicit right-side left-edge math (no 100% anchoring drift) */
  background-position:
    0 0,
    0 0,

    0 100%,
    0 100%,

    /* outer left */ 0 var(--corniceH),
    /* outer right */ calc(100% - var(--colW)) var(--corniceH),

    /* inner left */ calc(var(--colW) + var(--colGap)) var(--corniceH),
    /* inner right */ calc(100% - (var(--colW) * 2 + var(--colGap))) var(--corniceH),

    0 0;

  background-repeat: no-repeat;
}

/* Rounded continuous landing plinths (true rounded corners) */
body.publications-directory::after{
  content:"";
  position: fixed;
  left: 0;
  right: 0;
  bottom: var(--stepH);
  height: var(--landingH);
  pointer-events: none;
  z-index: 0;

  /* two slabs: left and right, each spans outer+gap+inner */
  --sideSpanW: calc((var(--colW) * 2) + var(--colGap));
  background:
    /* left slab */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.30)) left / var(--sideSpanW) 100% no-repeat,
    /* right slab */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.30)) right / var(--sideSpanW) 100% no-repeat;

  /* rounded ends: use mask-like trick by putting radius on a wrapper via clip */
  border-radius: 0; /* not used on the whole bar */
  filter: drop-shadow(0 1px 0 rgba(255,255,255,.35));
}

/* Create the rounded ends by overlaying corner caps */
body.publications-directory::after{
  /* corner caps */
  background-image:
    /* left slab */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.30)),
    /* right slab */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.30));
  background-size:
    calc((var(--colW) * 2) + var(--colGap)) 100%,
    calc((var(--colW) * 2) + var(--colGap)) 100%;
  background-position:
    0 0,
    100% 0;
  background-repeat: no-repeat;

  /* rounded ends via pseudo “caps” using box-shadowed circles */
}
body.publications-directory::after{
  /* we’ll add actual rounded endcaps with shadows using layered radial gradients */
  background-image:
    /* left slab fill */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.30)),
    /* right slab fill */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.30)),

    /* left outer endcap */
    radial-gradient(circle at left center, rgba(0,0,0,.10), rgba(255,255,255,.28) 60%, rgba(255,255,255,0) 61%),
    /* left inner endcap */
    radial-gradient(circle at right center, rgba(0,0,0,.10), rgba(255,255,255,.28) 60%, rgba(255,255,255,0) 61%),

    /* right inner endcap */
    radial-gradient(circle at left center, rgba(0,0,0,.10), rgba(255,255,255,.28) 60%, rgba(255,255,255,0) 61%),
    /* right outer endcap */
    radial-gradient(circle at right center, rgba(0,0,0,.10), rgba(255,255,255,.28) 60%, rgba(255,255,255,0) 61%);

  background-size:
    /* left slab */ calc((var(--colW) * 2) + var(--colGap)) 100%,
    /* right slab */ calc((var(--colW) * 2) + var(--colGap)) 100%,

    /* left outer cap */ var(--landingR) 100%,
    /* left inner cap */ var(--landingR) 100%,

    /* right inner cap */ var(--landingR) 100%,
    /* right outer cap */ var(--landingR) 100%;

  background-position:
    0 0,
    100% 0,

    /* left outer cap at screen edge */
    0 0,
    /* left inner cap at inner edge of left slab */
    calc((var(--colW) * 2) + var(--colGap) - var(--landingR)) 0,

    /* right inner cap at inner edge of right slab */
    calc(100% - ((var(--colW) * 2) + var(--colGap))) 0,
    /* right outer cap at screen edge */
    100% 0;

  background-repeat: no-repeat;
}

/* Overlays: fluting, capitals, and double pedestals */
body.publications-directory::before{
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: .95;

  --shaftH: calc(100dvh - var(--corniceH) - var(--stepH) - var(--landingH) - var(--ped1H) - var(--ped2H));
  --pedW: calc(var(--colW) + (var(--pedOver) * 2));
  --outerR: calc(100% - var(--colW));
  --innerL: calc(var(--colW) + var(--colGap));
  --innerR: calc(100% - (var(--colW) * 2 + var(--colGap)));

  /* We draw per column: shaft shading + fluting + capital curve + capital plate + pedestal tier2 + pedestal tier1 */
  background-image:
    /* OUTER LEFT */
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.25)), /* shaft shade */
    repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 7px, rgba(255,255,255,.18) 7px 14px), /* fluting */
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.55), rgba(0,0,0,.18)), /* capital curve */
    linear-gradient(180deg, rgba(255,255,255,.60), rgba(0,0,0,.15)), /* capital plate */
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.30)), /* pedestal tier2 */
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.34)), /* pedestal tier1 */

    /* OUTER RIGHT */
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.25)),
    repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 7px, rgba(255,255,255,.18) 7px 14px),
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.55), rgba(0,0,0,.18)),
    linear-gradient(180deg, rgba(255,255,255,.60), rgba(0,0,0,.15)),
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.30)),
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.34)),

    /* INNER LEFT */
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.25)),
    repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 7px, rgba(255,255,255,.18) 7px 14px),
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.55), rgba(0,0,0,.18)),
    linear-gradient(180deg, rgba(255,255,255,.60), rgba(0,0,0,.15)),
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.30)),
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.34)),

    /* INNER RIGHT */
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.25)),
    repeating-linear-gradient(90deg, rgba(0,0,0,.06) 0 7px, rgba(255,255,255,.18) 7px 14px),
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.55), rgba(0,0,0,.18)),
    linear-gradient(180deg, rgba(255,255,255,.60), rgba(0,0,0,.15)),
    linear-gradient(180deg, rgba(0,0,0,.10), rgba(255,255,255,.30)),
    linear-gradient(180deg, rgba(0,0,0,.12), rgba(255,255,255,.34));

  background-size:
    /* OUTER LEFT */
    var(--colW) var(--shaftH),
    var(--colW) var(--shaftH),
    var(--colW) var(--capCurveH),
    var(--colW) var(--capPlateH),
    var(--pedW) var(--ped2H),
    calc(var(--pedW) + 16px) var(--ped1H),

    /* OUTER RIGHT */
    var(--colW) var(--shaftH),
    var(--colW) var(--shaftH),
    var(--colW) var(--capCurveH),
    var(--colW) var(--capPlateH),
    var(--pedW) var(--ped2H),
    calc(var(--pedW) + 16px) var(--ped1H),

    /* INNER LEFT */
    var(--colW) var(--shaftH),
    var(--colW) var(--shaftH),
    var(--colW) var(--capCurveH),
    var(--colW) var(--capPlateH),
    var(--pedW) var(--ped2H),
    calc(var(--pedW) + 16px) var(--ped1H),

    /* INNER RIGHT */
    var(--colW) var(--shaftH),
    var(--colW) var(--shaftH),
    var(--colW) var(--capCurveH),
    var(--colW) var(--capPlateH),
    var(--pedW) var(--ped2H),
    calc(var(--pedW) + 16px) var(--ped1H);

  background-position:
    /* OUTER LEFT shaft layers */
    0 var(--corniceH),
    0 var(--corniceH),

    /* OUTER LEFT capital: sits immediately under cornice */
    0 calc(var(--corniceH) - 0px),
    0 calc(var(--corniceH) + var(--capCurveH) - 0px),

    /* OUTER LEFT pedestals: sit on landing, above steps */
    calc(0px - var(--pedOver)) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H)),
    calc(0px - var(--pedOver) - 8px) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H) - var(--ped1H)),

    /* OUTER RIGHT */
    var(--outerR) var(--corniceH),
    var(--outerR) var(--corniceH),
    var(--outerR) var(--corniceH),
    var(--outerR) calc(var(--corniceH) + var(--capCurveH)),

    calc(100% - var(--colW) - var(--pedOver)) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H)),
    calc(100% - var(--colW) - var(--pedOver) - 8px) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H) - var(--ped1H)),

    /* INNER LEFT */
    var(--innerL) var(--corniceH),
    var(--innerL) var(--corniceH),
    var(--innerL) var(--corniceH),
    var(--innerL) calc(var(--corniceH) + var(--capCurveH)),

    calc(var(--innerL) - var(--pedOver)) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H)),
    calc(var(--innerL) - var(--pedOver) - 8px) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H) - var(--ped1H)),

    /* INNER RIGHT */
    var(--innerR) var(--corniceH),
    var(--innerR) var(--corniceH),
    var(--innerR) var(--corniceH),
    var(--innerR) calc(var(--corniceH) + var(--capCurveH)),

    calc(var(--innerR) - var(--pedOver)) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H)),
    calc(var(--innerR) - var(--pedOver) - 8px) calc(100% - var(--stepH) - var(--landingH) - var(--ped2H) - var(--ped1H));

  background-repeat: no-repeat;
}

/* Content centered in the opening */
body.publications-directory main{
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;

  padding-top: calc(var(--corniceH) + 26px);
  padding-bottom: calc(var(--stepH) + var(--landingH) + var(--ped1H) + var(--ped2H) + 26px);

  position: relative;
  z-index: 1;
}

/* Subtle content panel */
body.publications-directory main::after{
  content: "";
  position: absolute;
  inset:
    calc(var(--corniceH) + 14px)
    calc((var(--colW) * 2) + var(--colGap) + 18px)
    calc(var(--stepH) + var(--landingH) + var(--ped1H) + var(--ped2H) + 14px);
  background: rgba(255,255,255,.22);
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 14px;
  z-index: -1;
}

/* list stabilizer */
ul{
  margin: 10px auto;
  padding-left: 18px;
  color: var(--muted);
  text-align: left;
  display: inline-block;
}
